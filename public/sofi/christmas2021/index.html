<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Navidad üéÑ</title>

    <!-- Baskerville -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Popperjs -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>

    <style>
        .pretty {
            font-family: 'Libre Baskerville', serif;
        }

        h1 {
            color: darkgreen;
            font-weight: bold;
        }
    </style>

    <!-- Firebase -->
    <!-- <script type="module" src="/index.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-analytics-compat.js"></script>

    <!--
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->

    <script>
        const firebaseApp = firebase.initializeApp({
            apiKey: "AIzaSyAIrKeHpTwUQLLJipXFnwyI0q7gXYtnZgc",
            authDomain: "g-house-bf144.firebaseapp.com",
            databaseURL: "https://g-house-bf144.firebaseio.com",
            projectId: "g-house-bf144",
            storageBucket: "g-house-bf144.appspot.com",
            messagingSenderId: "467660754087",
            appId: "1:467660754087:web:dcd9d6326a6b3bb1fddf82"
        });
    </script>

</head>
<body>

<!-- Display the countdown timer in an element -->
<div class="container py-5 text-center align-items-center d-flex justify-content-center">
    <main>
        <h1 id="title" class="pretty">Christmas üéÑ</h1>

        <div id="countdown" class="hstack gap-1 text-center pretty" hidden>
            <div id="demo"></div>
        </div>

        <div id="surprise"></div>
    </main>

</div>

<script>
    const analytics = firebase.analytics();

    // Set the date we're counting down to
    var countDownDate = new Date("Dec 25, 2021 00:00:00").getTime();

    //temporal
    //countDownDate = new Date("Dec 16, 2021 22:51:00").getTime();

    // Update the count down every 1 second
    var x = setInterval(function() {

        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        var d = days + "  d√≠a(s) ";
        if (days == 0) {
            d = "";
        }
        var h = hours + " hora(s) ";
        if (hours == 0) {
            h = "";
        }
        var m = minutes + " minuto(s) ";
        if (minutes == 0) {
            m = "";
        }
        var s = seconds + " segundo(s)";
        if (seconds == 0) {
            s = "";
        }

        // Display the result in the element with id="demo"
        document.getElementById("demo").innerHTML = "¬°Falta(n) <b>" + d + h + m + s + "</b> para Navidad!";

        document.getElementById("countdown").removeAttribute("hidden");

        // If the count down is finished, write some text
        if (distance < 0) {
            clearInterval(x);

            document.getElementById("countdown").setAttribute("hidden", true);

            let button = `<button type="button" class="btn btn-success" onclick="document.location='/sofi/christmas2021/secret'">¬°Sorpresa!</button>`;

            document.getElementById("title").innerText = "¬°Feliz Navidad Baby! ‚ù§Ô∏è";
            document.getElementById("surprise").innerHTML = button;
        }
    }, 1000);
</script>

</body>
</html>